# 网页二维码 Chrome插件

一个简洁优雅的Chrome浏览器插件，可以为当前网页生成带有网站图标的二维码。

## 功能特点

- 自动获取当前页面URL并生成二维码
- 在二维码中央优雅显示网站favicon图标
- 下方显示网站名称
- 精美的苹果风格界面设计
- 支持所有网页
- 支持保存二维码图片
- 智能处理favicon加载失败情况
- 生成适合手机扫描的高清二维码(400x400像素)
- 自动使用规范的文件命名格式

## 安装方法

1. 下载本项目所有文件
2. 打开Chrome浏览器，进入扩展程序页面 (chrome://extensions/)
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择本项目文件夹

## 使用方法

1. 打开任意网页
2. 点击Chrome工具栏中的插件图标
3. 弹出窗口会显示当前网页的二维码
4. 使用手机扫描二维码即可访问该网页
5. 点击"保存二维码"按钮将生成高清二维码图片
6. 图片将以"QRCode_年月日_时分秒.png"格式自动保存

## 技术实现

- 使用最新的Chrome Extension Manifest V3规范
- 使用qrcode.js库生成二维码
- 通过Chrome Extension API获取当前标签页信息
- 使用CSS实现苹果风格界面
- 使用Canvas技术生成高清二维码图片
- 采用HTML5的download属性实现文件下载

## 项目结构 

project/
├── manifest.json // 插件配置文件
├── popup.html // 弹出窗口HTML
├── popup.css // 样式表
├── popup.js // 功能实现
├── lib/
│ └── qrcode.min.js // 二维码生成库
└── icons/ // 插件图标
├── icon16.png
├── icon48.png
└── icon128.png


## 文件说明

### manifest.json
插件的配置文件，定义了:
- 插件的基本信息(名称、版本等)
- 权限申请(activeTab)
- 图标配置
- popup页面设置

### popup.html
弹出窗口的HTML结构，包含:
- 二维码显示区域
- favicon图标位置
- 网站名称显示区域
- 下载按钮及图标

### popup.css
定义了插件的视觉风格:
- 苹果风格的设计语言
- 优雅的阴影效果
- 精心调整的间距和圆角
- 动态按钮悬停效果
- 精美的下载图标样式

### popup.js
实现了核心功能:
- 获取当前标签页的URL、标题和favicon
- 生成二维码
- 在二维码中央显示favicon
- 显示网站名称
- 生成高清二维码图片(400x400像素)
- 自动格式化文件名(QRCode_YYYYMMDD_HHMMSS.png)
- 处理favicon加载失败情况

## 技术细节

### 二维码生成
- 预览尺寸：200x200像素
- 下载尺寸：400x400像素
- favicon尺寸：预览32x32像素，下载64x64像素

### 文件命名
- 格式：QRCode_YYYYMMDD_HHMMSS.png
- 示例：QRCode_20240101_235959.png

### 图标处理
- 自动检测favicon加载失败
- 使用默认图标作为备选
- 保持图标居中显示

## 注意事项

- 插件需要访问当前标签页的权限
- 部分网站可能没有设置favicon
- 当favicon加载失败时会自动显示默认图标
- 确保网络连接正常以加载favicon
- 下载的二维码图片将自动保存到浏览器默认下载目录

## 后续优化

- [ ] 添加二维码大小调节功能
- [ ] 支持自定义二维码颜色
- [x] 添加二维码保存功能
- [x] 优化favicon加载失败的处理
- [x] 优化二维码图片尺寸
- [x] 规范化文件命名